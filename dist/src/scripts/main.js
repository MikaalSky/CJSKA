(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

var authentication = require("../helpers/authentication.js");

var createLoginForm = function createLoginForm() {
    return $("<div>").append($("<div>").addClass("alert alert-danger hidden").attr("id", "loginFailed").text("An error occurred. Try again in a few minutes.")).append($("<div>").addClass("form-group").append($("<label>").attr("for", "username").text("Username")).append($("<input>").attr("type", "text").attr("name", "username").addClass("form-control"))).append($("<div>").addClass("form-group").append($("<label>").attr("for", "password").text("Password")).append($("<input>").attr("type", "password").attr("name", "password").addClass("form-control")));
};

var createSignupForm = function createSignupForm() {
    return $("<div>").append($("<div>").addClass("alert alert-danger hidden").attr("id", "signupError").text("An error occurred. Try again in a few minutes.")).append($("<div>").addClass("form-group").append($("<label>").attr("for", "username").text("Username")).append($("<input>").attr("type", "text").attr("name", "username").addClass("form-control"))).append($("<div>").addClass("form-group").append($("<label>").attr("for", "email").text("Email Address")).append($("<input>").attr("type", "email").attr("name", "email").addClass("form-control"))).append($("<div>").addClass("form-group").append($("<label>").attr("for", "password").text("Password")).append($("<input>").attr("type", "password").attr("name", "password").addClass("form-control"))).append($("<div>").addClass("form-group").append($("<label>").attr("for", "confpass").text("Confirm Password")).append($("<input>").attr("type", "password").attr("name", "confpass").addClass("form-control")));
};

module.exports = function () {
    // Login Modal
    $("[data-area=main]").append($("<div>").addClass("modal fade").attr("role", "dialog").attr("id", "loginModal").append($("<div>").addClass("modal-dialog").append($("<div>").addClass("modal-content").append(
    // Start Modal Header
    $("<div>").addClass("modal-header").append($("<button>").addClass("close").attr("data-dismiss", "modal").attr("aria-label", "Close").append($("<span>").attr("aria-hidden", "true").html("&times;"))).append($("<h4>").addClass("modal-title").text("Sign In"))
    // End Modal Header
    ).append(
    // Start Modal Body
    $("<div>").addClass("modal-body").append(createLoginForm())
    // End Modal Body
    ).append(
    // Start Modal Footer
    $("<div>").addClass("modal-footer").append($("<div>").addClass("form-group").append($("<button>").addClass("btn btn-primary").text("Don't Have an Account Yet? Sign up!").on("click", function () {
        $("#loginModal").modal("hide");
        $("#signupModal").modal();
    })).append($("<button>").addClass("btn btn-primary").text("Submit").on("click", function () {
        authentication.login();
    })))
    // End Modal Footer
    ))));

    // Sign up Modal
    $("[data-area=main]").append($("<div>").addClass("modal fade").attr("role", "dialog").attr("id", "signupModal").append($("<div>").addClass("modal-dialog").append($("<div>").addClass("modal-content").append(
    // Start Modal Header
    $("<div>").addClass("modal-header").append($("<button>").addClass("close").attr("data-dismiss", "modal").attr("aria-label", "Close").append($("<span>").attr("aria-hidden", "true").html("&times;"))).append($("<h4>").addClass("modal-title").text("Sign Up"))
    // End Modal Header
    ).append(
    // Start Modal Body
    $("<div>").addClass("modal-body").append(createSignupForm())
    // End Modal Body
    ).append(
    // Start Modal Footer
    $("<div>").addClass("modal-footer").append($("<div>").addClass("form-group").append($("<button>").addClass("btn btn-primary").text("Sign Up").on("click", function () {
        authentication.signup();
    })))
    // End Modal Footer
    ))));
};

},{"../helpers/authentication.js":4}],2:[function(require,module,exports){
"use strict";

module.exports = {
    authModals: require("./authModals.js"),
    footer: require("./footer.js")
};

},{"./authModals.js":1,"./footer.js":3}],3:[function(require,module,exports){
"use strict";

module.exports = function () {
    $("body").append($("<footer>").append($("<div>").addClass("container text-center").append($("<p>").addClass("text-muted").text("Made by ").append($("<a>").attr("href", "https://github.com/sparkstudios/CJSKA/graphs/contributors").text("all these great folks")))));
};

},{}],4:[function(require,module,exports){
"use strict";

module.exports = {
    signup: function signup() {
        $("#signupError").addClass("hidden");

        var _user = $("#signupModal [name=username]").val();
        var _mail = $("#signupModal [name=email]").val();
        var _pass = $("#signupModal [name=password]").val();
        var _conf = $("#signupModal [name=confpass]").val();

        if (_pass !== _conf) {
            $("#signupError").removeClass("hidden");
        } else {
            var newUser = new Parse.User();

            newUser.set("username", _user);
            newUser.set("password", _conf);
            newUser.set("email", _mail);

            newUser.signUp(null, {
                success: function success() {
                    Parse.User.logIn(_user, _conf, {
                        success: function success() {
                            window.location.reload();
                        }
                    });
                },
                error: function error(data, _error) {
                    $("#signupError").removeClass("hidden");

                    console.error(_error);
                }
            });
        }
    },
    login: function login() {
        var _name = $("#loginModal [name=username]").val();
        var _pass = $("#loginModal [name=password]").val();

        Parse.User.logIn(_name, _pass, {
            success: function success() {
                window.location.reload();
            },
            error: function error(data, _error2) {
                $("#loginFailed").removeClass("hidden");

                console.error(_error2);
            }
        });
    }
};

},{}],5:[function(require,module,exports){
"use strict";

module.exports = (function (deps) {
    var lostDeps = [];

    for (var depInd = 0; depInd < deps.length; depInd++) {
        if (!window.hasOwnProperty(deps[depInd])) {
            lostDeps.push(deps[depInd]);
        }
    }

    if (lostDeps.length > 0) {
        console.error("Unable to find all required dependencies! Exiting.");
        console.log("Dependencies not found:", lostDeps.join(","));

        return {};
    }

    return {
        setupPage: require("./setupPage.js")
    };
})(["jQuery", "Parse"]);

},{"./setupPage.js":6}],6:[function(require,module,exports){
"use strict";

var components = require("../components/components.js");

module.exports = function () {
    // NOTE: This **has** to go at the very top of this function,
    //  otherwise we can't use the Parse JS SDK.
    Parse.initialize("F4jHkOZFPQTGPZ23D1CqaNxmbLqoAUAxBzcnlWQn", "Zt177eOpCUI12dvHbBaIAaf8MZdXqkjsZYlagRul");

    components.authModals();
    components.footer();
};

},{"../components/components.js":2}],7:[function(require,module,exports){
"use strict";

var helpers = require("./helpers/helpers.js");

helpers.setupPage();

if (Parse.User.current() !== null) {
    // TODO (Gigabyte Giant): Redirect to logged in page.
    // TODO (Joshua Gammage): Auto redirects are annoying so find another way.
    window.location.href = "client/";
}

$("[name=signInBtn]").on("click", function () {
    $("#loginModal").modal();
});

$("[name=signUpBtn]").on("click", function () {
    $("#signupModal").modal();
});

},{"./helpers/helpers.js":5}]},{},[7])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJjOi9Vc2Vycy9Pd25lci9EZXNrdG9wL1Byb2plY3RzL0NKU0tBMy9zcmMvc2NyaXB0cy9jb21wb25lbnRzL2F1dGhNb2RhbHMuanMiLCJjOi9Vc2Vycy9Pd25lci9EZXNrdG9wL1Byb2plY3RzL0NKU0tBMy9zcmMvc2NyaXB0cy9jb21wb25lbnRzL2NvbXBvbmVudHMuanMiLCJjOi9Vc2Vycy9Pd25lci9EZXNrdG9wL1Byb2plY3RzL0NKU0tBMy9zcmMvc2NyaXB0cy9jb21wb25lbnRzL2Zvb3Rlci5qcyIsImM6L1VzZXJzL093bmVyL0Rlc2t0b3AvUHJvamVjdHMvQ0pTS0EzL3NyYy9zY3JpcHRzL2hlbHBlcnMvYXV0aGVudGljYXRpb24uanMiLCJjOi9Vc2Vycy9Pd25lci9EZXNrdG9wL1Byb2plY3RzL0NKU0tBMy9zcmMvc2NyaXB0cy9oZWxwZXJzL2hlbHBlcnMuanMiLCJjOi9Vc2Vycy9Pd25lci9EZXNrdG9wL1Byb2plY3RzL0NKU0tBMy9zcmMvc2NyaXB0cy9oZWxwZXJzL3NldHVwUGFnZS5qcyIsImM6L1VzZXJzL093bmVyL0Rlc2t0b3AvUHJvamVjdHMvQ0pTS0EzL3NyYy9zY3JpcHRzL21haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBLElBQUksY0FBYyxHQUFHLE9BQU8sQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDOztBQUU3RCxJQUFJLGVBQWUsR0FBRyxTQUFsQixlQUFlLEdBQWM7QUFDN0IsV0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQ2hCLE1BQU0sQ0FDSCxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsUUFBUSxDQUFDLDJCQUEyQixDQUFDLENBQzNDLElBQUksQ0FBQyxJQUFJLEVBQUUsYUFBYSxDQUFDLENBQ3pCLElBQUksQ0FBQyxnREFBZ0QsQ0FBQyxDQUM5RCxDQUNBLE1BQU0sQ0FDSCxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMs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Q0FBQyxVQUFVLENBQ1osMENBQTBDLEVBQzFDLDBDQUEwQyxDQUM3QyxDQUFDOztBQUVGLGNBQVUsQ0FBQyxVQUFVLEVBQUUsQ0FBQztBQUN4QixjQUFVLENBQUMsTUFBTSxFQUFFLENBQUM7Q0FDdkIsQ0FBQzs7Ozs7QUNaRixJQUFJLE9BQU8sR0FBRyxPQUFPLENBQUMsc0JBQXNCLENBQUMsQ0FBQzs7QUFFOUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxDQUFDOztBQUVwQixJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEtBQUssSUFBSSxFQUFFOzs7QUFHL0IsVUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEdBQUcsU0FBUyxDQUFDO0NBQ3BDOztBQUVELENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsWUFBTTtBQUNwQyxLQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7Q0FDNUIsQ0FBQyxDQUFDOztBQUVILENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsWUFBTTtBQUNwQyxLQUFDLENBQUMsY0FBYyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7Q0FDN0IsQ0FBQyxDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsInZhciBhdXRoZW50aWNhdGlvbiA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL2F1dGhlbnRpY2F0aW9uLmpzXCIpO1xuXG52YXIgY3JlYXRlTG9naW5Gb3JtID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICQoXCI8ZGl2PlwiKVxuICAgIC5hcHBlbmQoXG4gICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcImFsZXJ0IGFsZXJ0LWRhbmdlciBoaWRkZW5cIilcbiAgICAgICAgICAgIC5hdHRyKFwiaWRcIiwgXCJsb2dpbkZhaWxlZFwiKVxuICAgICAgICAgICAgLnRleHQoXCJBbiBlcnJvciBvY2N1cnJlZC4gVHJ5IGFnYWluIGluIGEgZmV3IG1pbnV0ZXMuXCIpXG4gICAgKVxuICAgIC5hcHBlbmQoXG4gICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcImZvcm0tZ3JvdXBcIilcbiAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICQoXCI8bGFiZWw+XCIpLmF0dHIoXCJmb3JcIiwgXCJ1c2VybmFtZVwiKS50ZXh0KFwiVXNlcm5hbWVcIilcbiAgICAgICAgKVxuICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgJChcIjxpbnB1dD5cIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInR5cGVcIiwgXCJ0ZXh0XCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJuYW1lXCIsIFwidXNlcm5hbWVcIilcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJmb3JtLWNvbnRyb2xcIilcbiAgICAgICAgKVxuICAgIClcbiAgICAuYXBwZW5kKFxuICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJmb3JtLWdyb3VwXCIpXG4gICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAkKFwiPGxhYmVsPlwiKS5hdHRyKFwiZm9yXCIsIFwicGFzc3dvcmRcIikudGV4dChcIlBhc3N3b3JkXCIpXG4gICAgICAgIClcbiAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICQoXCI8aW5wdXQ+XCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0eXBlXCIsIFwicGFzc3dvcmRcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcIm5hbWVcIiwgXCJwYXNzd29yZFwiKVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhcImZvcm0tY29udHJvbFwiKVxuICAgICAgICApXG4gICAgKTtcbn07XG5cbnZhciBjcmVhdGVTaWdudXBGb3JtID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICQoXCI8ZGl2PlwiKVxuICAgIC5hcHBlbmQoXG4gICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcImFsZXJ0IGFsZXJ0LWRhbmdlciBoaWRkZW5cIilcbiAgICAgICAgICAgIC5hdHRyKFwiaWRcIiwgXCJzaWdudXBFcnJvclwiKVxuICAgICAgICAgICAgLnRleHQoXCJBbiBlcnJvciBvY2N1cnJlZC4gVHJ5IGFnYWluIGluIGEgZmV3IG1pbnV0ZXMuXCIpXG4gICAgKVxuICAgIC5hcHBlbmQoXG4gICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcImZvcm0tZ3JvdXBcIilcbiAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICQoXCI8bGFiZWw+XCIpLmF0dHIoXCJmb3JcIiwgXCJ1c2VybmFtZVwiKS50ZXh0KFwiVXNlcm5hbWVcIilcbiAgICAgICAgKVxuICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgJChcIjxpbnB1dD5cIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInR5cGVcIiwgXCJ0ZXh0XCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJuYW1lXCIsIFwidXNlcm5hbWVcIilcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJmb3JtLWNvbnRyb2xcIilcbiAgICAgICAgKVxuICAgIClcbiAgICAuYXBwZW5kKFxuICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJmb3JtLWdyb3VwXCIpXG4gICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAkKFwiPGxhYmVsPlwiKS5hdHRyKFwiZm9yXCIsIFwiZW1haWxcIikudGV4dChcIkVtYWlsIEFkZHJlc3NcIilcbiAgICAgICAgKVxuICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgJChcIjxpbnB1dD5cIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInR5cGVcIiwgXCJlbWFpbFwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwibmFtZVwiLCBcImVtYWlsXCIpXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKFwiZm9ybS1jb250cm9sXCIpXG4gICAgICAgIClcbiAgICApXG4gICAgLmFwcGVuZChcbiAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwiZm9ybS1ncm91cFwiKVxuICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgJChcIjxsYWJlbD5cIikuYXR0cihcImZvclwiLCBcInBhc3N3b3JkXCIpLnRleHQoXCJQYXNzd29yZFwiKVxuICAgICAgICApXG4gICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAkKFwiPGlucHV0PlwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwidHlwZVwiLCBcInBhc3N3b3JkXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJuYW1lXCIsIFwicGFzc3dvcmRcIilcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJmb3JtLWNvbnRyb2xcIilcbiAgICAgICAgKVxuICAgIClcbiAgICAuYXBwZW5kKFxuICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJmb3JtLWdyb3VwXCIpXG4gICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAkKFwiPGxhYmVsPlwiKS5hdHRyKFwiZm9yXCIsIFwiY29uZnBhc3NcIikudGV4dChcIkNvbmZpcm0gUGFzc3dvcmRcIilcbiAgICAgICAgKVxuICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgJChcIjxpbnB1dD5cIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInR5cGVcIiwgXCJwYXNzd29yZFwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwibmFtZVwiLCBcImNvbmZwYXNzXCIpXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKFwiZm9ybS1jb250cm9sXCIpXG4gICAgICAgIClcbiAgICApO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBMb2dpbiBNb2RhbFxuICAgICQoXCJbZGF0YS1hcmVhPW1haW5dXCIpLmFwcGVuZChcbiAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwibW9kYWwgZmFkZVwiKS5hdHRyKFwicm9sZVwiLCBcImRpYWxvZ1wiKVxuICAgICAgICAuYXR0cihcImlkXCIsIFwibG9naW5Nb2RhbFwiKVxuICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwibW9kYWwtZGlhbG9nXCIpXG4gICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcIm1vZGFsLWNvbnRlbnRcIilcbiAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAvLyBTdGFydCBNb2RhbCBIZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwibW9kYWwtaGVhZGVyXCIpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiPGJ1dHRvbj5cIikuYWRkQ2xhc3MoXCJjbG9zZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiZGF0YS1kaXNtaXNzXCIsIFwibW9kYWxcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImFyaWEtbGFiZWxcIiwgXCJDbG9zZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCI8c3Bhbj5cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaHRtbChcIiZ0aW1lcztcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCI8aDQ+XCIpLmFkZENsYXNzKFwibW9kYWwtdGl0bGVcIikudGV4dChcIlNpZ24gSW5cIilcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAvLyBFbmQgTW9kYWwgSGVhZGVyXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgIC8vIFN0YXJ0IE1vZGFsIEJvZHlcbiAgICAgICAgICAgICAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwibW9kYWwtYm9keVwiKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlTG9naW5Gb3JtKClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAvLyBFbmQgTW9kYWwgQm9keVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAvLyBTdGFydCBNb2RhbCBGb290ZXJcbiAgICAgICAgICAgICAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwibW9kYWwtZm9vdGVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcImZvcm0tZ3JvdXBcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiPGJ1dHRvbj5cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhcImJ0biBidG4tcHJpbWFyeVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoXCJEb24ndCBIYXZlIGFuIEFjY291bnQgWWV0PyBTaWduIHVwIVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjbG9naW5Nb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNzaWdudXBNb2RhbFwiKS5tb2RhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIjxidXR0b24+XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJidG4gYnRuLXByaW1hcnlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KFwiU3VibWl0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAub24oXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRpb24ubG9naW4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAvLyBFbmQgTW9kYWwgRm9vdGVyXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgKTtcblxuICAgIC8vIFNpZ24gdXAgTW9kYWxcbiAgICAkKFwiW2RhdGEtYXJlYT1tYWluXVwiKS5hcHBlbmQoXG4gICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcIm1vZGFsIGZhZGVcIikuYXR0cihcInJvbGVcIiwgXCJkaWFsb2dcIilcbiAgICAgICAgLmF0dHIoXCJpZFwiLCBcInNpZ251cE1vZGFsXCIpXG4gICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJtb2RhbC1kaWFsb2dcIilcbiAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwibW9kYWwtY29udGVudFwiKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgIC8vIFN0YXJ0IE1vZGFsIEhlYWRlclxuICAgICAgICAgICAgICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJtb2RhbC1oZWFkZXJcIilcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCI8YnV0dG9uPlwiKS5hZGRDbGFzcyhcImNsb3NlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJkYXRhLWRpc21pc3NcIiwgXCJtb2RhbFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiYXJpYS1sYWJlbFwiLCBcIkNsb3NlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIjxzcGFuPlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5odG1sKFwiJnRpbWVzO1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIjxoND5cIikuYWRkQ2xhc3MoXCJtb2RhbC10aXRsZVwiKS50ZXh0KFwiU2lnbiBVcFwiKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC8vIEVuZCBNb2RhbCBIZWFkZXJcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgTW9kYWwgQm9keVxuICAgICAgICAgICAgICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJtb2RhbC1ib2R5XCIpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVTaWdudXBGb3JtKClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAvLyBFbmQgTW9kYWwgQm9keVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAvLyBTdGFydCBNb2RhbCBGb290ZXJcbiAgICAgICAgICAgICAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwibW9kYWwtZm9vdGVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcImZvcm0tZ3JvdXBcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiPGJ1dHRvbj5cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhcImJ0biBidG4tcHJpbWFyeVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoXCJTaWduIFVwXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAub24oXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRpb24uc2lnbnVwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgLy8gRW5kIE1vZGFsIEZvb3RlclxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICk7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgYXV0aE1vZGFsczogcmVxdWlyZShcIi4vYXV0aE1vZGFscy5qc1wiKSxcbiAgICBmb290ZXI6IHJlcXVpcmUoXCIuL2Zvb3Rlci5qc1wiKVxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgICQoXCJib2R5XCIpLmFwcGVuZChcbiAgICAgICAgJChcIjxmb290ZXI+XCIpXG4gICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJjb250YWluZXIgdGV4dC1jZW50ZXJcIilcbiAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgJChcIjxwPlwiKS5hZGRDbGFzcyhcInRleHQtbXV0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoXCJNYWRlIGJ5IFwiKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIjxhPlwiKS5hdHRyKFwiaHJlZlwiLCBcImh0dHBzOi8vZ2l0aHViLmNvbS9zcGFya3N0dWRpb3MvQ0pTS0EvZ3JhcGhzL2NvbnRyaWJ1dG9yc1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KFwiYWxsIHRoZXNlIGdyZWF0IGZvbGtzXCIpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICk7XG59OyIsIm1vZHVsZS5leHBvcnRzID0ge1xuICAgIHNpZ251cDogZnVuY3Rpb24oKSB7XG4gICAgICAgICQoXCIjc2lnbnVwRXJyb3JcIikuYWRkQ2xhc3MoXCJoaWRkZW5cIik7XG5cbiAgICAgICAgbGV0IF91c2VyID0gJChcIiNzaWdudXBNb2RhbCBbbmFtZT11c2VybmFtZV1cIikudmFsKCk7XG4gICAgICAgIGxldCBfbWFpbCA9ICQoXCIjc2lnbnVwTW9kYWwgW25hbWU9ZW1haWxdXCIpICAgLnZhbCgpO1xuICAgICAgICBsZXQgX3Bhc3MgPSAkKFwiI3NpZ251cE1vZGFsIFtuYW1lPXBhc3N3b3JkXVwiKS52YWwoKTtcbiAgICAgICAgbGV0IF9jb25mID0gJChcIiNzaWdudXBNb2RhbCBbbmFtZT1jb25mcGFzc11cIikudmFsKCk7XG5cbiAgICAgICAgaWYgKF9wYXNzICE9PSBfY29uZikge1xuICAgICAgICAgICAgJChcIiNzaWdudXBFcnJvclwiKS5yZW1vdmVDbGFzcyhcImhpZGRlblwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBuZXdVc2VyID0gbmV3IFBhcnNlLlVzZXIoKTtcblxuICAgICAgICAgICAgbmV3VXNlci5zZXQoXCJ1c2VybmFtZVwiLCBfdXNlcik7XG4gICAgICAgICAgICBuZXdVc2VyLnNldChcInBhc3N3b3JkXCIsIF9jb25mKTtcbiAgICAgICAgICAgIG5ld1VzZXIuc2V0KFwiZW1haWxcIiAgICwgX21haWwpO1xuXG4gICAgICAgICAgICBuZXdVc2VyLnNpZ25VcChudWxsLCB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIFBhcnNlLlVzZXIubG9nSW4oX3VzZXIsIF9jb25mLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGRhdGEsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICQoXCIjc2lnbnVwRXJyb3JcIikucmVtb3ZlQ2xhc3MoXCJoaWRkZW5cIik7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGxvZ2luOiBmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0IF9uYW1lID0gJChcIiNsb2dpbk1vZGFsIFtuYW1lPXVzZXJuYW1lXVwiKS52YWwoKTtcbiAgICAgICAgbGV0IF9wYXNzID0gJChcIiNsb2dpbk1vZGFsIFtuYW1lPXBhc3N3b3JkXVwiKS52YWwoKTtcblxuICAgICAgICBQYXJzZS5Vc2VyLmxvZ0luKF9uYW1lLCBfcGFzcywge1xuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihkYXRhLCBlcnJvcikge1xuICAgICAgICAgICAgICAgICQoXCIjbG9naW5GYWlsZWRcIilcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKFwiaGlkZGVuXCIpO1xuXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn07IiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oZGVwcykge1xuICAgIHZhciBsb3N0RGVwcyA9IFtdO1xuXG4gICAgZm9yIChsZXQgZGVwSW5kID0gMDsgZGVwSW5kIDwgZGVwcy5sZW5ndGg7IGRlcEluZCsrKSB7XG4gICAgICAgIGlmICghd2luZG93Lmhhc093blByb3BlcnR5KGRlcHNbZGVwSW5kXSkpIHtcbiAgICAgICAgICAgIGxvc3REZXBzLnB1c2goZGVwc1tkZXBJbmRdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChsb3N0RGVwcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmFibGUgdG8gZmluZCBhbGwgcmVxdWlyZWQgZGVwZW5kZW5jaWVzISBFeGl0aW5nLlwiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJEZXBlbmRlbmNpZXMgbm90IGZvdW5kOlwiLCBsb3N0RGVwcy5qb2luKFwiLFwiKSk7XG5cbiAgICAgICAgcmV0dXJuIHsgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBzZXR1cFBhZ2U6IHJlcXVpcmUoXCIuL3NldHVwUGFnZS5qc1wiKVxuICAgIH07XG59KShbXCJqUXVlcnlcIiwgXCJQYXJzZVwiXSk7IiwidmFyIGNvbXBvbmVudHMgPSByZXF1aXJlKFwiLi4vY29tcG9uZW50cy9jb21wb25lbnRzLmpzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIE5PVEU6IFRoaXMgKipoYXMqKiB0byBnbyBhdCB0aGUgdmVyeSB0b3Agb2YgdGhpcyBmdW5jdGlvbixcbiAgICAvLyAgb3RoZXJ3aXNlIHdlIGNhbid0IHVzZSB0aGUgUGFyc2UgSlMgU0RLLlxuICAgIFBhcnNlLmluaXRpYWxpemUoXG4gICAgICAgIFwiRjRqSGtPWkZQUVRHUFoyM0QxQ3FhTnhtYkxxb0FVQXhCemNubFdRblwiLFxuICAgICAgICBcIlp0MTc3ZU9wQ1VJMTJkdkhiQmFJQWFmOE1aZFhxa2pzWllsYWdSdWxcIlxuICAgICk7XG5cbiAgICBjb21wb25lbnRzLmF1dGhNb2RhbHMoKTtcbiAgICBjb21wb25lbnRzLmZvb3RlcigpO1xufTsiLCJ2YXIgaGVscGVycyA9IHJlcXVpcmUoXCIuL2hlbHBlcnMvaGVscGVycy5qc1wiKTtcblxuaGVscGVycy5zZXR1cFBhZ2UoKTtcblxuaWYgKFBhcnNlLlVzZXIuY3VycmVudCgpICE9PSBudWxsKSB7XG4gICAgLy8gVE9ETyAoR2lnYWJ5dGUgR2lhbnQpOiBSZWRpcmVjdCB0byBsb2dnZWQgaW4gcGFnZS5cbiAgICAvLyBUT0RPIChKb3NodWEgR2FtbWFnZSk6IEF1dG8gcmVkaXJlY3RzIGFyZSBhbm5veWluZyBzbyBmaW5kIGFub3RoZXIgd2F5LlxuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCJjbGllbnQvXCI7XG59XG5cbiQoXCJbbmFtZT1zaWduSW5CdG5dXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICQoXCIjbG9naW5Nb2RhbFwiKS5tb2RhbCgpO1xufSk7XG5cbiQoXCJbbmFtZT1zaWduVXBCdG5dXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICQoXCIjc2lnbnVwTW9kYWxcIikubW9kYWwoKTtcbn0pO1xuIl19
